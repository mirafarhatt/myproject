<!DOCTYPE html>
<html lang="en">

<head>

   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">

   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="viewport" content="initial-scale=1, maximum-scale=1">

   <title>Contact us - Raf</title>
   <meta name="keywords" content="">
   <meta name="description" content="">
   <meta name="author" content="">

   <link rel="stylesheet" href="css/bootstrap.min.css">

   <link rel="stylesheet" href="css/style.css">

   <link rel="stylesheet" href="css/style1.css">


   <link rel="stylesheet" href="css/responsive.css">



   <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">

</head>

<body class="main-layout contact-page">


   <header>

   </header>

   <div class="about-bg" style="margin-top: 0px;">
      <div class="container">
         <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
               <div class="abouttitle">
                  <h2>Contact Us</h2>
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- Start: Contact Us Section -->
   <div id="content" class="site-content">
      <div id="primary" class="content-area">
         <main id="main" class="site-main">
            <div class="contact-main">
               <div class="contact-us">
                  <div class="container">
                     <div class="contact-location">
                        <div class="flipcard">
                           <div class="front">
                              <div class="top-info">
                                 <span><i class="fa fa-map-marker" aria-hidden="true"></i> Office Address</span>
                              </div>
                              <div class="bottom-info">
                                 <span class="top-arrow"></span>
                                 <ul>
                                    <li>Lebanon, Beirut </li>
                                    <li>Laylake, Lebanese University</li>
                                    <li>Business Adminstration Faculty</li>
                                 </ul>
                              </div>
                           </div>
                           <div class="back">
                              <div class="bottom-info orange-bg">
                                 <span class="bottom-arrow"></span>
                                 <ul>
                                    <li>Lebanon, Beirut </li>
                                    <li>Laylake, Lebanese University</li>
                                    <li>Business Adminstration Faculty</li>
                                 </ul>
                              </div>
                              <div class="top-info dark-bg">
                                 <span><i class="fa fa-map-marker" aria-hidden="true"></i> Office Address</span>
                              </div>
                           </div>
                        </div>
                        <div class="flipcard">
                           <div class="front">
                              <div class="top-info">
                                 <span><i class="fa fa-fax" aria-hidden="true"></i> Phone </span>
                              </div>
                              <div class="bottom-info">
                                 <span class="top-arrow"></span>
                                 <ul>
                                    <li><a href="tel:+123-456-7890">Local: +123-456-7890</a></li>
                                    <li><a href="tel:+123-456-7890">Local: +123-456-7890</a></li>

                                 </ul>
                              </div>
                           </div>
                           <div class="back">
                              <div class="bottom-info orange-bg">
                                 <span class="bottom-arrow"></span>
                                 <ul>
                                    <li><a href="tel:+123-456-7890">Local: +123-456-7890</a></li>
                                    <li><a href="tel:+123-456-7890">Local: +123-456-7890</a></li>

                                 </ul>
                              </div>
                              <div class="top-info dark-bg">
                                 <span><i class="fa fa-fax" aria-hidden="true"></i> Phone and Fax</span>
                              </div>
                           </div>
                        </div>
                        <div class="flipcard">
                           <div class="front">
                              <div class="top-info">
                                 <span><i class="fa fa-envelope" aria-hidden="true"></i> Email Address</span>
                              </div>
                              <div class="bottom-info">
                                 <span class="top-arrow"></span>
                                 <ul>
                                    <li>www.raf.com</li>
                                    <li>support@raf.com</li>
                                    <li>info@raf.com</li>
                                 </ul>
                              </div>
                           </div>
                           <div class="back">
                              <div class="bottom-info orange-bg">
                                 <span class="bottom-arrow"></span>
                                 <ul>
                                    <li>www.raf.com</li>
                                    <li>support@raf.com</li>
                                    <li>info@raf.com</li>
                                 </ul>
                              </div>
                              <div class="top-info dark-bg">
                                 <span><i class="fa fa-envelope" aria-hidden="true"></i> Email Address</span>
                              </div>
                           </div>
                        </div>
                        <div class="clearfix"></div>
                     </div>
                     <div class="row">
                        <div class="contact-area">
                           <div class="container">
                              <div class="col-md-5 col-md-offset-1 border-gray-left">
                                 <div class="row">
                                    <div class="col-md-12">
                                       <div class="contact-map bg-light margin-left">
                                          <div class="company-map" id="map"
                                             style="background-image: url(images/logo1.png);"></div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div class="col-md-5 border-gray-right">
                                 <div class="row">
                                    <div class="col-md-12">
                                       <div class="contact-form bg-light margin-right">
                                          <h2>Send us a message</h2>
                                          <span class="underline left"></span>
                                          <div class="contact-fields">
                                             <form id="contact-form" name="contact" action="contact_backend.php"
                                                method="POST">

                                                <div class="row">
                                                   <div class="col-md-6 col-sm-6">
                                                      <div class="form-group">
                                                         <input class="form-control" type="text"
                                                            placeholder="First Name" name="first-name" id="first-name"
                                                            size="30" value="" aria-required="true" />
                                                      </div>
                                                   </div>
                                                   <div class="col-md-6 col-sm-6">
                                                      <div class="form-group">
                                                         <input class="form-control" type="text" placeholder="Last Name"
                                                            name="last-name" id="last-name" size="30" value=""
                                                            aria-required="true" />
                                                      </div>
                                                   </div>
                                                   <div class="col-md-6 col-sm-6">
                                                      <div class="form-group">
                                                         <input class="form-control" type="email"
                                                            pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$"
                                                            placeholder="Email" name="email" id="email" size="30"
                                                            value="" aria-required="true" />
                                                      </div>
                                                   </div>
                                                   <div class="col-md-6 col-sm-6">
                                                      <div class="form-group">
                                                         <input class="form-control" type="text"
                                                            placeholder="Phone Number" name="phone" id="phone" size="30"
                                                            value="" aria-required="true" />
                                                      </div>
                                                   </div>
                                                   <div class="col-sm-12">
                                                      <div class="form-group">
                                                         <textarea class="form-control" placeholder="Your message"
                                                            id="message" name="message" aria-required="true"></textarea>

                                                         <div class="clearfix"></div>
                                                      </div>
                                                   </div>
                                                   <div class="col-sm-12">
                                                      <div class="form-group form-submit">
                                                         <input class="btn btn-default" id="submit-contact-form"
                                                            type="submit" name="submit" value="Send Message" />
                                                         <div id="success" style="display: none; color: green;">Your
                                                            message has been sent successfully!</div>
                                                         <div id="error" style="display: none; color: red;"></div>


                                                      </div>
                                                   </div>


                                                </div>
                                             </form>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </main>
      </div>
   </div>

   <footer>

   </footer>
   <script>
      document.getElementById('contact-form').addEventListener('submit', function (event) {
         event.preventDefault(); // Prevent default form submission

         let isValid = true; // Flag to track if the form is valid
         const form = event.target;
         const firstName = form['first-name'];
         const lastName = form['last-name'];
         const email = form['email'];
         const phone = form['phone'];
         const message = form['message'];

         // Clear previous error messages
         document.getElementById('success').style.display = 'none';
         document.getElementById('error').style.display = 'none';
         document.querySelectorAll('.error-message').forEach(error => error.remove());

         // Helper function to validate fields and display error messages
         const validateField = (field, errorMessage) => {
            const parent = field.parentElement;
            const error = parent.querySelector('.error-message');
            if (!field.value.trim()) {
               if (!error) {
                  const errorDiv = document.createElement('div');
                  errorDiv.className = 'error-message';
                  errorDiv.style.color = 'red';
                  errorDiv.textContent = errorMessage;
                  parent.appendChild(errorDiv);
               }
               isValid = false;
            } else if (error) {
               error.remove();
            }
         };

         // Validate individual fields
         validateField(firstName, 'First Name is required.');
         validateField(lastName, 'Last Name is required.');

         // Validate Email with pattern match
         if (!email.value.match(/[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$/)) {
            isValid = false;
            if (!email.nextElementSibling || !email.nextElementSibling.classList.contains('error-message')) {
               const errorDiv = document.createElement('div');
               errorDiv.className = 'error-message';
               errorDiv.style.color = 'red';
               errorDiv.textContent = 'Please enter a valid email address.';
               email.parentElement.appendChild(errorDiv);
            }
         }

         validateField(phone, 'Phone Number is required.');

         // Explicit Message field validation
         if (!message.value.trim()) {
            console.log('Message field is empty!'); // Log if message is empty
            isValid = false;
            const parent = message.parentElement;
            if (!parent.querySelector('.error-message')) {
               const errorDiv = document.createElement('div');
               errorDiv.className = 'error-message';
               errorDiv.style.color = 'red';
               errorDiv.textContent = 'Message is required.';
               parent.appendChild(errorDiv);
            }
         } else {
            console.log('Message field is not empty'); // Log if message is filled
         }

         // If the form is valid, submit the form via AJAX
         if (isValid) {
            const xhr = new XMLHttpRequest();
            xhr.open('POST', 'contact_backend.php', true);

            xhr.onload = function () {
               if (xhr.status === 200) {
                  document.getElementById('success').style.display = 'block'; // Show success message
                  form.reset(); // Reset the form
                  // Remove any lingering error messages
                  document.querySelectorAll('.error-message').forEach(error => error.remove());
               } else {
                  document.getElementById('error').style.display = 'block'; // Show error message
               }
            };

            xhr.onerror = function () {
               document.getElementById('error').style.display = 'block'; // Show error message
            };

            const formData = new FormData(form);
            xhr.send(formData);
         }
      });

   </script>


   <script src="js/html/footer.js"></script>


   <script src="js/jquery.min.js"></script>
   <script src="js/popper.min.js"></script>
   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.0.0.min.js"></script>
   <script src="js/plugin.js"></script>

   <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
   <script src="js/custom.js"></script>
   <script src="js/html/header.js"></script>

</body>

</html>